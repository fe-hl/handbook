import{_ as s,c as i,o as t,ao as e}from"./chunks/framework.DOhyS95j.js";const l="/handbook/assets/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE.B6I9RuEK.png",h="/handbook/assets/%E4%B8%8B%E8%BD%BDHTTPS%E8%AF%81%E4%B9%A6.BEdwgxo8.png",n="/handbook/assets/win-%E5%8F%97%E4%BF%A1%E4%BB%BB%E7%9A%84%E6%A0%B9%E8%AF%81%E4%B9%A6.IdyuUYgN.png",o="/handbook/assets/mac1.B3bxUnzl.png",r="/handbook/assets/mac2.B-RpWyBo.png",p="/handbook/assets/%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE.BRxPOmMH.png",d="/handbook/assets/ios.B9YlQNHd.png",c="/handbook/assets/%E5%AE%89%E5%8D%93.-qel46fC.png",k="/handbook/assets/%E4%BA%8C%E7%BB%B4%E7%A0%81%E4%B8%8B%E8%BD%BD%E8%AF%81%E4%B9%A6.BlQ80KhB.png",u="/handbook/assets/%E5%AE%89%E8%A3%85%E5%88%9A%E4%B8%8B%E8%BD%BD%E5%A5%BD%E7%9A%84%E8%AF%81%E4%B9%A6.BVV4mxWa.png",g="/handbook/assets/%E4%BF%A1%E4%BB%BB%E8%AF%A5%E8%AF%81%E4%B9%A6.DOZXdy2Z.png",b="/handbook/assets/mock.D9cP-EGZ.jpg",E="/handbook/assets/%E6%B3%A8%E5%85%A51.DrVsrryX.png",m="/handbook/assets/%E6%B3%A8%E5%85%A52.BJKX69vN.png",q="/handbook/assets/%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE.DPWKo50E.png",B="/handbook/assets/weinre%E7%95%8C%E9%9D%A2.7uClhWzY.png",P=JSON.parse('{"title":"whistle 使用指南","description":"","frontmatter":{},"headers":[],"relativePath":"pages/whistle.md","filePath":"pages/whistle.md"}'),F={name:"pages/whistle.md"};function y(C,a,x,_,A,f){return t(),i("div",null,a[0]||(a[0]=[e(`<h1 id="whistle-使用指南" tabindex="-1">whistle 使用指南 <a class="header-anchor" href="#whistle-使用指南" aria-label="Permalink to &quot;whistle 使用指南&quot;">​</a></h1><h2 id="安装-whistle" tabindex="-1">安装 whistle <a class="header-anchor" href="#安装-whistle" aria-label="Permalink to &quot;安装 whistle&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> whistle</span></span></code></pre></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # 启动 whistle（开机后需要在 CMD 中输入）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 重启 whistle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 停止 whistle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 调试模式启动（用于查看异常及插件开发）</span></span></code></pre></div><h2 id="浏览器代理配置" tabindex="-1">浏览器代理配置 <a class="header-anchor" href="#浏览器代理配置" aria-label="Permalink to &quot;浏览器代理配置&quot;">​</a></h2><h3 id="_1-安装代理插件" tabindex="-1">1. 安装代理插件 <a class="header-anchor" href="#_1-安装代理插件" aria-label="Permalink to &quot;1. 安装代理插件&quot;">​</a></h3><ul><li><p><a href="https://github.com/zero-peak/ZeroOmega" target="_blank">ZeroOmega 下载 </a></p></li><li><p>推荐插件：Zeroomega-3.4.1.crx</p></li><li><p>注：Proxy SwitchyOmega 已不被新版谷歌支持</p></li></ul><h3 id="_2-配置代理设置" tabindex="-1">2. 配置代理设置 <a class="header-anchor" href="#_2-配置代理设置" aria-label="Permalink to &quot;2. 配置代理设置&quot;">​</a></h3><p><img src="`+l+'" alt="浏览器代理配置"></p><h2 id="安装-https-证书" tabindex="-1">安装 HTTPS 证书 <a class="header-anchor" href="#安装-https-证书" aria-label="Permalink to &quot;安装 HTTPS 证书&quot;">​</a></h2><h3 id="步骤" tabindex="-1">步骤 <a class="header-anchor" href="#步骤" aria-label="Permalink to &quot;步骤&quot;">​</a></h3><ol><li>访问 <code>http://127.0.0.1:8899/</code></li><li>选择 HTTPS → 勾选 &quot;Capture TUNNEL CONNECTs&quot; → 点击 &quot;download&quot;</li></ol><p><img src="'+h+'" alt="下载HTTPS证书"></p><h3 id="windows-系统" tabindex="-1">Windows 系统 <a class="header-anchor" href="#windows-系统" aria-label="Permalink to &quot;Windows 系统&quot;">​</a></h3><p><img src="'+n+'" alt="受信任的根证书"></p><ul><li>安装证书时需手动选择&quot;受信任的根证书&quot;目录</li></ul><h3 id="mac-系统" tabindex="-1">Mac 系统 <a class="header-anchor" href="#mac-系统" aria-label="Permalink to &quot;Mac 系统&quot;">​</a></h3><p><img src="'+o+'" alt="mac1"><img src="'+r+'" alt="mac2"></p><ul><li>双击下载的 rootCA.crt</li><li>在钥匙串访问中，将 whistle 证书设置为&quot;始终信任&quot;</li></ul><h2 id="配置-host-代理规则" tabindex="-1">配置 host 代理规则 <a class="header-anchor" href="#配置-host-代理规则" aria-label="Permalink to &quot;配置 host 代理规则&quot;">​</a></h2><h3 id="操作步骤" tabindex="-1">操作步骤 <a class="header-anchor" href="#操作步骤" aria-label="Permalink to &quot;操作步骤&quot;">​</a></h3><ol><li>访问 <code>http://127.0.0.1:8899/</code></li><li>选择左侧 &quot;Rules&quot; → 点击顶部 &quot;Create&quot;</li><li>输入规则名称创建代理规则</li></ol><p><img src="'+p+'" alt="代理配置"></p><h3 id="环境配置" tabindex="-1">环境配置 <a class="header-anchor" href="#环境配置" aria-label="Permalink to &quot;环境配置&quot;">​</a></h3><p>本地 whistle 代理通常包含以下环境：</p><ul><li>local</li><li>dev</li><li>...</li></ul><p>可通过双击规则名快速切换环境</p><h2 id="手机代理配置" tabindex="-1">手机代理配置 <a class="header-anchor" href="#手机代理配置" aria-label="Permalink to &quot;手机代理配置&quot;">​</a></h2><h3 id="前提条件" tabindex="-1">前提条件 <a class="header-anchor" href="#前提条件" aria-label="Permalink to &quot;前提条件&quot;">​</a></h3><ul><li>手机与电脑需在同一局域网</li></ul><h3 id="代理设置" tabindex="-1">代理设置 <a class="header-anchor" href="#代理设置" aria-label="Permalink to &quot;代理设置&quot;">​</a></h3><h4 id="查看-ip-地址" tabindex="-1">查看 IP 地址 <a class="header-anchor" href="#查看-ip-地址" aria-label="Permalink to &quot;查看 IP 地址&quot;">​</a></h4><ul><li>访问 <code>http://127.0.0.1:8899/</code> 点击右上角 &quot;Online&quot;</li><li>或在 CMD 中输入 <code>ipconfig</code></li></ul><h4 id="ios-系统" tabindex="-1">iOS 系统 <a class="header-anchor" href="#ios-系统" aria-label="Permalink to &quot;iOS 系统&quot;">​</a></h4><p><img src="'+d+'" alt="ios"></p><ul><li>点击 WiFi → 配置代理 → 手动 → 输入 IP 和端口</li></ul><h4 id="android-系统" tabindex="-1">Android 系统 <a class="header-anchor" href="#android-系统" aria-label="Permalink to &quot;Android 系统&quot;">​</a></h4><p><img src="'+c+'" alt="安卓"></p><ul><li>长按 WiFi → 修改网络 → 显示高级选项 → 配置代理</li></ul><h3 id="安装手机证书" tabindex="-1">安装手机证书 <a class="header-anchor" href="#安装手机证书" aria-label="Permalink to &quot;安装手机证书&quot;">​</a></h3><h4 id="下载证书" tabindex="-1">下载证书 <a class="header-anchor" href="#下载证书" aria-label="Permalink to &quot;下载证书&quot;">​</a></h4><p><img src="'+k+'" alt="二维码"></p><ul><li>扫描二维码下载证书</li></ul><h4 id="android-安装" tabindex="-1">Android 安装 <a class="header-anchor" href="#android-安装" aria-label="Permalink to &quot;Android 安装&quot;">​</a></h4><ul><li>打开下载的文件 → 输入锁屏密码</li><li>证书名称随意，<strong>必须勾选&quot;VPN 和应用&quot;</strong></li></ul><h4 id="ios-安装" tabindex="-1">iOS 安装 <a class="header-anchor" href="#ios-安装" aria-label="Permalink to &quot;iOS 安装&quot;">​</a></h4><ol><li><p>Safari 访问 <code>rootca.pro</code> 或扫描二维码安装</p></li><li><p>设置 → 通用 → 描述文件 → 安装证书</p></li></ol><p><img src="'+u+'" alt="安装证书"></p><ol start="3"><li>设置 → 通用 → 关于本机 → 证书信任设置 → 信任该证书</li></ol><p><img src="'+g+'" alt="信任证书"></p><h2 id="功能使用" tabindex="-1">功能使用 <a class="header-anchor" href="#功能使用" aria-label="Permalink to &quot;功能使用&quot;">​</a></h2><h3 id="页面重定向" tabindex="-1">页面重定向 <a class="header-anchor" href="#页面重定向" aria-label="Permalink to &quot;页面重定向&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://www.test1.com/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redirect://https://www.test2.com/</span></span></code></pre></div><ul><li>访问www.test1.com 时自动跳转到 www.test2.com</li></ul><h3 id="模拟慢速网络及接口错误" tabindex="-1">模拟慢速网络及接口错误 <a class="header-anchor" href="#模拟慢速网络及接口错误" aria-label="Permalink to &quot;模拟慢速网络及接口错误&quot;">​</a></h3><h4 id="模拟接口错误" tabindex="-1">模拟接口错误 <a class="header-anchor" href="#模拟接口错误" aria-label="Permalink to &quot;模拟接口错误&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wq.xx.com/official_account/queryCouponInfo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> statusCode://500</span></span></code></pre></div><ul><li>接口返回 500 状态码</li></ul><h4 id="模拟网络延迟" tabindex="-1">模拟网络延迟 <a class="header-anchor" href="#模拟网络延迟" aria-label="Permalink to &quot;模拟网络延迟&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wq.xx.com/official_account/queryCouponInfo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resDelay://1000</span></span></code></pre></div><ul><li>接口延迟 1 秒响应</li></ul><h3 id="mock-接口数据" tabindex="-1">Mock 接口数据 <a class="header-anchor" href="#mock-接口数据" aria-label="Permalink to &quot;Mock 接口数据&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://beta-api.m.xx.com/queryCouponInf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resBody://{queryCouponInf.json}</span></span></code></pre></div><p><img src="'+b+'" alt="mock"></p><ul><li>接口返回本地 JSON 文件内容</li></ul><h2 id="注入-eruda-调试工具" tabindex="-1">注入 Eruda 调试工具 <a class="header-anchor" href="#注入-eruda-调试工具" aria-label="Permalink to &quot;注入 Eruda 调试工具&quot;">​</a></h2><h3 id="配置规则" tabindex="-1">配置规则 <a class="header-anchor" href="#配置规则" aria-label="Permalink to &quot;配置规则&quot;">​</a></h3><ul><li>通过 Ctrl+单击模拟数据名称（html_test）跳转到 values 界面，写 js 代码</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://m.xx.com/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> htmlAppend://{html_test}</span></span></code></pre></div><p><img src="'+E+'" alt="注入1"></p><h3 id="编写注入代码" tabindex="-1">编写注入代码 <a class="header-anchor" href="#编写注入代码" aria-label="Permalink to &quot;编写注入代码&quot;">​</a></h3><p><img src="'+m+`" alt="注入2"></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.bootcss.com/eruda/1.5.4/eruda.min.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  eruda.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  window.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GLOBAL_SQ_HEADER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>注意</strong>：域名需精确匹配，避免影响其他接口</p><h2 id="配置-weinre-远程调试" tabindex="-1">配置 Weinre 远程调试 <a class="header-anchor" href="#配置-weinre-远程调试" aria-label="Permalink to &quot;配置 Weinre 远程调试&quot;">​</a></h2><h3 id="配置规则-1" tabindex="-1">配置规则 <a class="header-anchor" href="#配置规则-1" aria-label="Permalink to &quot;配置规则&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://m.xx.com/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weinre://test1</span></span></code></pre></div><h3 id="使用步骤" tabindex="-1">使用步骤 <a class="header-anchor" href="#使用步骤" aria-label="Permalink to &quot;使用步骤&quot;">​</a></h3><ol><li>保存规则后，鼠标悬停 weinre 展开菜单</li><li>点击新建的 test1 <img src="`+q+'" alt="css"></li></ol><h3 id="调试界面" tabindex="-1">调试界面 <a class="header-anchor" href="#调试界面" aria-label="Permalink to &quot;调试界面&quot;">​</a></h3><p><img src="'+B+'" alt="weinre界面"></p>',82)]))}const v=s(F,[["render",y]]);export{P as __pageData,v as default};
